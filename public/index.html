<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Clipper 2.0 Savings Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "d9bc0055b77f47b1a24c5ae91e96fe9a"}'></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;800&family=Work+Sans:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --font-heading: 'Poppins', sans-serif;
      --font-body: 'Work Sans', sans-serif;
    --transbay-red: #cd482c;
    --bay-gold: #ffb81c;
    --transbay-teal: #1d3a47;
    }

    body {
      font-family: var(--font-body);
    }

    h1,h2,h3,h4,h5,h6,button {
      font-family: var(--font-heading);
      font-weight: 800;
      letter-spacing: 0.5px;
    }

    .output {
      display: none;
    }
  </style>

</head>
<body class="bg-slate-50 text-slate-900 flex flex-col min-h-screen">
  <header id="header" class="bg-[var(--transbay-red)] text-white py-4 shadow-md sticky top-0 z-10">
    <div class="max-w-6xl mx-auto flex justify-between items-center h-full">
      <h1 class="text-2xl font-bold px-4"><a href="/">Clipper 2.0 Savings Calculator</a></h1>
      <div class="bg-white rounded-xl p-2 mx-4 h-full flex items-center sm:max-h-16">
        <a href="https://transbaycoalition.org"><img
          src="/transbay.png"
          alt="Transbay logo"
          class="h-full w-auto object-contain sm:max-h-16 max-w-40"
        /></a>
      </div>
    </div>
  </header>

  <section class="bg-[var(--transbay-teal)] text-white py-16">
    <div class="max-w-6xl mx-auto px-4 text-center md:text-left">
      <p class="mb-4 text-xl">
        In December, the Bay Area's transit card is getting an upgrade that will save you money and make it easier for you to travel throughout the nine Bay Area counties of Alameda, Contra Costa, Marin, Napa, San Francisco, San Mateo, Santa Clara, and Solano.
      </p>
      <p class="mb-4 text-lg">
        Instead of being penalized when changing from one agency to another, Clipper 2.0 comes with free transfers. This means that no matter where you're going in the region, there's no need to worry about getting overcharged.
      </p>
      <p class="mb-6 text-lg">
        Interested in finding out how much you can save on your trips? Use this trip calculator to find out how much you can save in transfers starting December 10th.
      </p>
    </div>
  </section>

  <section id="app" class="max-w-7xl mx-auto px-4 py-12 flex flex-col xl:flex-row gap-8">
    <div class="flex-1 min-w-0 bg-white p-6 rounded-2xl shadow-md flex flex-col">
      <h3 class="text-2xl font-semibold mb-4 text-[var(--transbay-red)]">Your Trip</h3>
      <span>Enter each of the transit agencies you use on your trip in the order you take them.</span>
      <div id="agencyListContainer"></div>
      <datalist id="agencyDatalist"></datalist>
      <div class="flex justify-center w-full mt-auto">
        <button
        class="inline-block bg-[var(--transbay-red)] text-white font-semibold px-6 py-3 rounded-lg shadow hover:bg-[var(--transbay-teal)] transition mt-6 mr-6 self-end">
        Calculate
      </button>
        <button id="clear"
          class="inline-block bg-white text-[var(--transbay-red)] font-semibold px-6 py-3 rounded-lg shadow hover:bg-[var(--transbay-teal)] hover:text-white transition mt-6 self-end">
          Start over
        </button>
      </div>
    </div>

    <div class="flex-1 min-w-0 bg-white p-6 rounded-2xl shadow-md flex flex-col">
      <h3 class="text-2xl font-semibold mb-4 text-[var(--transbay-red)]">Your Savings</h3>
      <div class="output">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 text-lg text-left min-w-0">
          <div class="min-w-0">
            <h4 class="text-lg font-semibold mb-2 text-slate-600 text-nowrap">Before Clipper 2.0</h4>
            <div id="results"></div>
            <div id="final-results"></div>
          </div>
          <div class="min-w-0">
            <h4 class="text-lg font-semibold mb-2 text-slate-600 text-nowrap">After Clipper 2.0</h4>
            <div id="results-c2"></div>
            <div id="final-results-c2"></div>
          </div>
        </div>

        <div class="text-center mt-6">
          <h4 class="text-2xl font-semibold mb-2 text-slate-600">Total Savings</h4>
          <div class="text-xl break-words">
            With Clipper 2.0, you'll save <span id="comparison-inner" class="font-bold text-[var(--bay-gold)]">$—</span> per trip.<br/>
            That's <span id="comparison-inner-annual" class="font-bold text-[var(--bay-gold)]">$—</span> over a year's commute (500 trips)!
          </div>
          <div id="final-results-c2"></div>
        </div>
      </div>
      <div class="max-w-5xl mx-auto px-4 faq flex flex-col sm:flex-row justify-center items-center pt-0 output mt-auto">
        <button id="share"
          class="inline-block bg-[var(--bay-gold)] text-[var(--transbay-red)] font-semibold text-2xl px-6 py-3 rounded-lg shadow hover:bg-yellow-400 transition self-end mt-6">
          Share your trip savings!
        </button>
        <div id="share-text" class="text-lg font-semibold text-slate-600 text-center"></span>
      </div>
    </div>
  </section>
  <section class="bg-slate-100-py-12">
    <div class="flex-1 min-w-0 p-6 rounded-2xl shadow-md flex flex-col items-center">
      <h4 class="text-2xl font-semibold mb-2 text-slate-600 mb-2">Or, choose a trip:</h4>
      <div class="flex flex-col items-center w-full mt-auto space-y-4">
        <button data-hash="#SF#BA;901709;mtc:millbrae-bart#CT;zone2;zone3"
          class="stored-trip inline-block bg-white text-[var(--transbay-red)] font-semibold px-6 py-3 rounded-lg shadow hover:bg-[var(--transbay-teal)] hover:text-white transition w-full max-w-sm">
          Sunset District ➜ Palo Alto
        </button>
        <button data-hash="#AC#BA;904209;mtc:civic-center-bart#SF"
          class="stored-trip inline-block bg-white text-[var(--transbay-red)] font-semibold px-6 py-3 rounded-lg shadow hover:bg-[var(--transbay-teal)] hover:text-white transition w-full max-w-sm">
          Berkeley ➜ San Francisco with bus connections
        </button>
        <button data-hash="#BA;902909;909509#SC#CT;zone4;zone3"
          class="stored-trip inline-block bg-white text-[var(--transbay-red)] font-semibold px-6 py-3 rounded-lg shadow hover:bg-[var(--transbay-teal)] hover:text-white transition w-full max-w-sm">
          Fremont ➜ Sunnyvale
        </button>
      </div>
    </div>
  </section>

  <section id="faq" class="bg-slate-100 py-12">
    <div class="max-w-5xl mx-auto px-4 faq space-y-8">
      <div class="flex items-center justify-center">
        <div>
          <a href="https://transbaycoalition.org/join"
            class="inline-block text-2xl bg-[var(--bay-gold)] text-[var(--transbay-red)] font-semibold px-6 py-3 rounded-lg shadow hover:bg-yellow-400 transition">
            Join the Transbay Coalition mailing list for transit tools and news! »
          </a>
        </div>
      </div>
      <h3 class="text-2xl font-bold text-[var(--transbay-red)]">
        Celebrate Clipper 2.0 by hiking with Hiking by Transit!
      </h3>
      <div class="bg-white p-6 rounded-2xl shadow-md">
        <p class="mb-4">
          <span class="font-semibold">To celebrate the easier, more affordable regional transfers,</span>
          <a href="https://hikingbytransit.com" class="text-[var(--transbay-red)] hover:underline">Hiking by Transit</a>
          will be leading a hike up to the summit of Mt. Tamalpais on Sunday, December 14th. East Bay to Marin trips will be up to 40% cheaper with Clipper 2.0!
        </p>
        <a href="https://www.eventbrite.com/e/hiking-by-transit-clipper-20-launch-celebration-mt-tamalpais-hike-tickets-1902777702329"
          class="inline-block bg-[var(--bay-gold)] text-[var(--transbay-red)] font-semibold px-6 py-3 rounded-lg shadow hover:bg-yellow-400 transition">
          RSVP on Eventbrite »
        </a>
      </div>
      <hr class="border-slate-300" />
      <h3 class="text-2xl font-bold text-[var(--transbay-red)]">Other benefits of Clipper 2.0</h3>

      <div class="bg-white p-6 rounded-2xl shadow-md space-y-6">
        <div>
          <p class="font-semibold mb-2">Tap and Ride with contactless credit & debit cards</p>
          <p class="text-slate-700 mb-2">
            If you ride transit infrequently, or just don't want to have to keep track of yet another
            card in your wallet, the new Tap and Ride system will allow you to use your normal contactless
            credit or debit card to pay. This reduces complexity for riders and means less confusion for new riders,
            occasional riders, and tourists.
          </p>
          <p class="text-slate-700">
            Clipper cards will still be quite useful for many, though. Discount programs, like Clipper START, Clipper RTC,
            and youth and senior discounts will not be available when paying with Tap and Ride. Likewise, transit benefits
            programs and BART's High Volume Discount programs will not be available with Tap and Ride.
          </p>
        </div>

        <div>
          <p class="font-semibold mb-2">Fixing the BART excursion fare</p>
          <p class="text-slate-700 mb-2">
            Today, if you enter the BART faregates and then realize that they've suspended service,
            tapping back out of the faregates will charge you $7.10. This fare was designed for people
            who wanted to explore the system on an "excursion".
          </p>
          <p class="text-slate-700">
            With Clipper 2.0, people who tap out less than 30 minutes after tapping in will not be charged
            an excursion fare. This "grace period" is especially useful when BART experiences service outages,
            since riders will be able to leave the platforms and catch alternative transit without having
            to speak to a station agent.
          </p>
        </div>

        <div>
          <p class="font-semibold">
            For more information on Clipper 2.0, visit the official <a href="https://www.futureofclipper.com/" target="_blank" class="text-[var(--transbay-red)] hover:underline">Future of Clipper website</a>.
          </p>
        </div>
      </div>

      <hr class="border-slate-300" />
      <h3 class="text-2xl font-bold text-[var(--transbay-red)]">About this tool</h3>

      <div class="bg-white p-6 rounded-2xl shadow-md space-y-6">
        <p class="text-slate-700">
          The Transbay Coalition is a grassroots public transportation advocacy group championing bold near-term solutions to the Bay Area’s regional transportation crisis. Founded to campaign for dedicated bus-only lanes on the Bay Bridge and its approaches, we’re striving to create an equitable and efficient public transit system and reduce greenhouse gas emissions. <a href="https://www.transbaycoalition.org/about/" class="text-[var(--transbay-red)] hover:underline">Learn more about the Transbay Coalition »</a>
        </p>
        <p class="text-slate-700">
          This website calculates the current fares and transfer policies using <i>GTFS</i> data from the Metropolitan Transportation Commission. This is the same data used by apps like Google Maps and Apple Maps to provide transit directions and fare information.
        </p>
        <p class="text-slate-700">
          Fares on this website are an estimation only, based on the current information provided by the Metropolitan Transportation Commission. As they have not begun public advertising about the new system, some assumptions have been made. This website will be updated as possible to reflect new information.
        </p>
      </div>
    </div>
  </section>

  <footer class="bg-[var(--transbay-red)] text-white py-6 text-center mt-auto">
    <p>Created by Evan Tschuy, <a href="https://hikingbytransit.com">Hiking by Transit</a> for the Transbay Coalition. © 2025.</p>
  </footer>
  <script type="module" src="app.js"></script>
</body> </html>